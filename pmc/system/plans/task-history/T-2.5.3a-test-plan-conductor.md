# T-2.5.3a Testing Agent Conductor: Theme Switcher UI Testing Parameters

## **PRIMARY TESTING AUTHORITY**

### **⚠️ CRITICAL: Main Testing Instructions Location**
**YOUR PRIMARY AND AUTHORITATIVE TESTING INSTRUCTIONS ARE LOCATED IN:**
**`pmc\core\T-2.5.3a-test-plan-comprehensive.md`**

**YOU MUST:**
1. **Read this file completely FIRST** - This contains your complete testing protocol, phases, and validation requirements
2. **Follow these testing instructions reliably** - These are the authoritative testing procedures you must execute
3. **Use this conductor as testing parameters only** - This file provides context and prevents common pitfalls based on T-2.5.3 testing experience

---

## **Foundation Context & Readiness**

### **T-2.5.3 Foundation Successfully Validated**
Based on successful T-2.5.3 testing completion, the following foundation is **CONFIRMED READY** for T-2.5.3a testing:

**✅ Theme Switcher Foundation (ELE-5)**: 19,876 bytes of semantic tokens specifically for Theme Switcher implementation
**✅ Reactive CSS Properties (ELE-4)**: 48+ CSS custom properties validated and functional
**✅ Light/Dark Theme Mappings (ELE-1/ELE-2)**: Complete semantic token system operational
**✅ T-2.5.2 Integration**: Theme provider compatibility confirmed and tested

### **What T-2.5.3a Testing Focuses On**
- **Theme Switcher Component**: Complete UI component with multiple size variants and placements
- **User Experience Validation**: Click interactions, animations, and visual feedback
- **Accessibility Compliance**: WCAG 2.1 AA keyboard navigation and screen reader support
- **Performance Standards**: <100ms theme switching, 60fps animations
- **Integration Testing**: Theme persistence and provider compatibility

---

## **Critical Testing Guardrales**

### **Environment & Navigation Requirements**
**MANDATORY:** Navigate to `aplio-modern-1` directory for all testing (NOT pmc)
```bash
cd aplio-modern-1  # Required working directory
```

**Expected Implementation Files to Validate:**
- `components/shared/ThemeSwitcher/ThemeSwitcher.tsx` (Main component)
- `components/shared/ThemeSwitcher/ThemeSwitcher.types.ts` (TypeScript definitions)
- `components/shared/ThemeSwitcher/icons/SunIcon.tsx` (Light theme icon)
- `components/shared/ThemeSwitcher/icons/MoonIcon.tsx` (Dark theme icon)
- `app/_components/ThemeSwitcher.tsx` (App integration layer)

### **Testing Approach Based on T-2.5.3 Experience**
**✅ DO:** Use live testing with test scaffold page (Phase 1 in comprehensive plan)
**✅ DO:** Test multiple size variants (small, medium, large) and placements (header, inline, fixed)
**✅ DO:** Validate performance metrics with real browser testing
**✅ DO:** Test accessibility with keyboard navigation and screen reader compatibility

**❌ DON'T:** Skip the test scaffold page - it's essential for comprehensive validation
**❌ DON'T:** Only test one component size - multiple variants are specified
**❌ DON'T:** Ignore performance metrics - <100ms theme switching is required
**❌ DON'T:** Skip accessibility testing - WCAG 2.1 AA compliance is mandatory

### **Integration Testing Priorities**
**HIGHEST:** Theme persistence across browser sessions (T-2.5.3a:ELE-4)
**HIGH:** Smooth animation performance and 60fps target validation
**HIGH:** T-2.5.2 theme provider compatibility without breaking changes
**MEDIUM:** Responsive behavior across mobile, tablet, desktop
**SUPPORTING:** Visual consistency and design token usage

---

## **Testing Execution Framework**

### **Phase Execution Order (from comprehensive plan)**
1. **Phase 0**: Pre-Testing Environment Setup
   - Navigate to aplio-modern-1
   - Create test directory structure
   - Verify implementation files exist

2. **Phase 1**: Test Scaffold Page Construction
   - Build comprehensive testing environment
   - Include performance monitoring
   - Validate all component variants

3. **Phase 2**: Functional Testing Execution
   - Theme switching functionality (light ↔ dark ↔ system)
   - Size variants and placement options
   - Animation performance validation

4. **Phase 3**: Accessibility & Performance Testing
   - WCAG 2.1 AA compliance validation
   - Keyboard navigation testing
   - Performance metrics confirmation

5. **Phase 4**: Integration & Completion Testing
   - Theme persistence validation
   - Cross-browser compatibility
   - Production readiness confirmation

### **Success Criteria Validation**
**MANDATORY before completion:**
- [ ] All Theme Switcher component variants functional
- [ ] Theme persistence working across browser sessions
- [ ] Performance targets met (<100ms switching, 60fps animations)
- [ ] WCAG 2.1 AA accessibility compliance confirmed
- [ ] T-2.5.2 theme provider integration maintained

---

## **Expected Testing Environment**

### **What Should Work (Based on T-2.5.3 Foundation)**
- Theme token resolution through `styles/themes/index.ts`
- CSS custom properties reactive updates
- Theme provider context and hooks
- TypeScript compilation without errors

### **Common Testing Challenges (T-2.5.3 Experience)**
- **Performance Measurement**: Use browser dev tools for accurate metrics
- **Theme Persistence**: Test across multiple browser tabs/sessions
- **Animation Validation**: Use browser performance monitoring
- **Accessibility Testing**: Use screen reader simulation tools

### **Testing Infrastructure Available**
- Test directory structure in `test/unit-tests/task-2-5/T-2.5.3a/`
- Screenshot comparison capabilities in `test/screenshots/T-2.5.3a/`
- Test scaffold page framework for live testing
- Performance monitoring utilities

---

## **Critical Completion Requirements**

### **Testing Summary Must Confirm**
✅ **Theme Switcher Functionality**: All variants working with smooth animations
✅ **Accessibility Compliance**: WCAG 2.1 AA keyboard and screen reader support
✅ **Performance Standards**: <100ms theme switching confirmed
✅ **Theme Persistence**: Working across browser sessions and page reloads
✅ **Integration Compatibility**: T-2.5.2 theme provider integration maintained

### **Final Validation Message**
Upon successful completion, confirm:
> "T-2.5.3a Theme Switcher UI Implementation testing complete. Component validated for production use with full accessibility compliance and performance targets met."

---

## **REMEMBER: Primary Authority**
**This conductor provides testing parameters based on T-2.5.3 testing experience. Your complete testing instructions, phases, and requirements are in:**
**`pmc\core\T-2.5.3a-test-plan-comprehensive.md`**

**Read that file first and follow it reliably. Use this conductor to avoid common pitfalls and ensure comprehensive validation.**
